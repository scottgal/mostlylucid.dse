name: "TCP Client"
type: "custom"
description: "TCP client for binary protocols. Connect to server, send/receive binary data with automatic encoding/decoding. Supports connection pooling and keepalive."
cost_tier: "free"
speed_tier: "fast"
quality_tier: "excellent"

custom:
  module: "src.networking.tcp_tools"
  class: "TCPClient"
  config: {}

input_schema:
  host:
    type: "string"
    description: "Server hostname or IP"
    required: true

  port:
    type: "integer"
    description: "Server port (1-65535)"
    minimum: 1
    maximum: 65535
    required: true

  data:
    type: "any"
    description: "Data to send"
    required: true

  encoder:
    type: "object"
    description: "Encoder configuration for outgoing data"
    required: false
    properties:
      format:
        type: "string"
        enum: ["struct", "msgpack", "json", "custom"]

  decoder:
    type: "object"
    description: "Decoder configuration for incoming data"
    required: false
    properties:
      format:
        type: "string"
        enum: ["struct", "msgpack", "json", "custom"]

  timeout:
    type: "number"
    description: "Connection and read timeout"
    default: 30.0

  keepalive:
    type: "boolean"
    description: "Enable TCP keepalive"
    default: false

  nodelay:
    type: "boolean"
    description: "Enable TCP_NODELAY (disable Nagle's algorithm)"
    default: true

  expect_response:
    type: "boolean"
    description: "Whether to wait for response"
    default: true

  response_size:
    type: "integer"
    description: "Maximum response size to receive"
    default: 8192

output_schema:
  success:
    type: "boolean"
    description: "Whether operation succeeded"

  bytes_sent:
    type: "integer"
    description: "Number of bytes sent"

  bytes_received:
    type: "integer"
    description: "Number of bytes received"

  connection_time_ms:
    type: "integer"
    description: "Connection time in milliseconds"

  response_data:
    type: "any"
    description: "Decoded response data"

  response_text:
    type: "string"
    description: "Response as text (if not decoded)"

  raw_response:
    type: "string"
    description: "Raw response as hex (if decode failed)"

  error:
    type: "string"
    description: "Error message if operation failed"

tags:
  - "networking"
  - "tcp"
  - "client"
  - "binary"
  - "connection"
